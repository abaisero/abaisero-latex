\documentclass{article}

\usepackage[margin=1in]{geometry}
\usepackage{booktabs}
\usepackage{hyperref}

\usepackage{abaisero}

\begin{document}

\title{abaisero.sty}
\author{Andrea Baisero}

\newcommand\option[1]{\texttt{#1}}

\newcommand\xset{\mathcal{X}}
\newcommand\yset{\mathcal{Y}}

\interfootnotelinepenalty=10000

\maketitle

\section{Options}

Options are processes left-to-right.
If no options are provided, or none are enabled by the end of the processing, then by default they are all considered to be enabled.

\begin{table}[h]
\begin{tabular}{ll}
  %
  \toprule
  %
  Option & Description \\
  %
  \midrule
  %
  \option{all} & Enable all commands \\
  %
  \option{(no-)math} & Disable/enable mathematical commands \\
  %
  \option{(no-)linalg} & Disable/enable linear algebra commands \\
  %
  \option{(no-)optim} & Disable/enable optimization commands \\
  %
  \option{(no-)stats} & Disable/enable statistics commands \\
  %
  \option{(no-)dists} & Disable/enable distributions commands \\
  %
  \option{(no-)ml} & Disable/enable machine learning commands \\
  %
  \option{(no-)rl} & Disable/enable reinforcement learning commands \\
  %
  \option{(no-)marl} & Disable/enable multi-agent reinforcement learning commands \\
  %
  \option{(no-)theorem} & Disable/enable theorem commands \\
  %
  \option{(no-)misc} & Disable/enable miscellanea commands \\
  %
  \bottomrule
  %
\end{tabular}
\end{table}

\section{Commands}

\subsection*{Option [math]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\naturalset$ & \verb|\naturalset| & the set of natural numbers & $\naturalset \doteq \{ 1, 2, 3, \ldots \}$ \\
  %
  $\integerset$ & \verb|\integerset| & the set of integer numbers & $\integerset \doteq \{ 0, 1, -1, 2, -3, \ldots \}$ \\
  %
  $\realset$ & \verb|\realset| & the set of real numbers & $\sqrt{2} \in \realset$ \\
  %
  $\kstar$ & \verb|\kstar| & the Kleene star operator & $\xset\kstar \doteq \bigcup_{k=0}^\infty \xset^k$ \\
  %
  $\kplus$ & \verb|\kplus| & the Kleene plus operator & $\xset\kplus \doteq \bigcup_{k=1}^\infty \xset^k$ \\
  %
  \midrule
  %
  $\powerset$ & \verb|\powerset| & power set & $\powerset(\xset) \doteq \left\{ \hat\xset \mid \hat\xset \subseteq \xset \right\}$ \\
  %
  \midrule
  %
  $\Ind$ & \verb|\Ind| & Indicator function & $\Pr(x=0) = \Exp\left[ \Ind\left[ x=0 \right] \right]$ \\
  %
  \midrule
  %
  $\iverson{\cdot}$ & \verb|\iverson{\cdot}| & Iverson brackets & $\iverson{ x \geq 0 }$ maps $x$ to binaries \\
  %
  \midrule
  %
  $\softmax$ & \verb|\softmax| & a.k.a. logsumexp, realsoftmax\footnotemark[1] & $\softmax(x_1, \ldots, x_n) \doteq \log\sum_i \exp(x_i)$ \\
  %
  $\softmin$ & \verb|\softmin| & & $\softmin(x_1, \ldots, x_n) \doteq -\log\sum_i \exp(-x_i)$ \\
  %
  $\softargmax$ & \verb|\softargmax| & a.k.a. softmax\footnotemark[1] & $\softargmax(x_1, \ldots, x_n)_i \doteq \frac{ \exp(x_i) }{ \sum_k \exp(x_k) } $ \\
  %
  $\sign$ & \verb|\sign| & & $x = \sign{x} \cdot |x|$ \\
  %
  $\supp$ & \verb|\supp| & support operator & $\supp(f) \doteq \{ x \mid f(x) \neq 0 \}$ \\
  %
  \bottomrule
  %
\end{tabular}

\footnotetext[1]{The functions that in this document are called ``softmax'' and ``softargmax'' are poorly and inaccurately named in the broader math and ML fields (see \url{https://en.wikipedia.org/wiki/Softmax_function} and \url{https://en.wikipedia.org/wiki/LogSumExp}). Rather than stick to the more common naming conventions, I opt to rename the functions more accurately to appropriately reflect their actual properties. In any document where I would use these functions, I would need to define them anyway, so the risk of misunderstandings are minimal.}

\subsection*{Option [linalg]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\diag$ & \verb|\diag| & & \\
  %
  $\rank$ & \verb|\rank| & & \\
  %
  $\trace$ & \verb|\trace| & & $\trace(M) \doteq \sum_{i=1}^n M_{ii}$ \\
  %
  $\colspace$ & \verb|\colspace| & & \\
  %
  $\nullspace$ & \verb|\nullspace| & Nullspace (a.k.a\ kernel) of a linear mapping & \\
  %
  $\spanspace$ & \verb|\spanspace| & & \\
  %
  $\T$ & \verb|\T| & Transpose superscript & symmetric $M \implies M = M\T$ \\
  %
  $\I$ & \verb|\I| & Inverse superscript & invertible $M \implies MM\I = I$ \\
  %
  $\PI$ & \verb|\PI| & Pseudo-inverse superscript & $MM\PI M = M$ \\
  %
  $\IT$ & \verb|\IT| & Inverse transpose superscript & $M\IT = (M\I)\T = (M\T)\I$ \\
  %
  $\PIT$ & \verb|\PIT| & Pseudo-inverse transpose superscript & $M\PIT = (M\PI)\T = (M\T)\PI$ \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [optim]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\argmax$ & \verb|\argmax| & & $\argmax_a \qpolicy(s, a)$ \\
  %
  $\argmin$ & \verb|\argmin| & & $\theta\opt \doteq \argmin_\theta \loss(\theta)$ \\
  %
  $\opt$ & \verb|\opt| & Optimality superscript & $\policy\opt(s) = \argmax_a Q\opt(s, a)$ \\
  %
  \midrule
  %
  $\stopg$ & \verb|\stopg| & Stop-gradient operator & $\nabla_x \stopg\left[ f(x) \right] = 0$ \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [stats]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\indep$ & \verb|\indep| & Independence & $X \indep Y \mid Z$ \\
  %
  \midrule
  %
  $\causaldo$ & \verb|\causaldo| & Pearl's \emph{do} operator & $\Pr(Y\mid \causaldo(X=x)) \neq \Pr(Y\mid X=s)$ \\
  %
  \midrule
  %
  $\Cov$ & \verb|\Cov| & Covariance & $\Cov(x, y) = \Exp\left[xy\right] - \Exp\left[x\right] \Exp\left[y\right]$ \\
  %
  $\Ent$ & \verb|\Ent| & Entropy & $\Ent[x] = -\Exp\left[\log\Pr(x) \right]$ \\
  %
  $\Exp$ & \verb|\Exp| & Expectation & $\Exp\left[ f(x) \right] = \sum_x \Pr(x) f(x)$ \\
  %
  $\KL$ & \verb|\KL| & KL-divergence & $\KL\left( p \mid\mid q\right) \doteq \Exp_{x\sim p}\left[ \log p(x) - \log q(x) \right]$ \\
  %
  $\DKL$ & \verb|\DKL| & KL-divergence (alternative) & \\
  %
  $\MI$ & \verb|\MI| & Mutual Information & \\
  %
  $\Bias$ & \verb|\Bias| & Bias & $\Bias\left[\hat f(x)\right]$ is the bias of estimator $\hat f$ \\
  %
  $\Var$ & \verb|\Var| & Variance & $\Var\left[\hat f(x)\right] = \Exp\left[\hat f(x)^2\right] - \Exp\left[ \hat f(x)\right]^2$ \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [dists]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\Categorical$ & \verb|\Categorical| & $\Categorical$ \\
  %
  $\Dirichlet$ & \verb|\Dirichlet| & $\Dirichlet$ \\
  %
  $\Geometric$ & \verb|\Geometric| & $\Geometric$ \\
  %
  $\Normal$ & \verb|\Normal| & $\Normal$ \\
  %
  $\Uniform$ & \verb|\Uniform| & $\Uniform$ \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [ml]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\data$ & \verb|\data| & Data set & $\data \doteq \{ (x_i, y_i) \}_{i=1}^N$ \\
  %
  $\loss$ & \verb|\loss| & Loss function & $\loss(\theta; x, y) = \frac{1}{2} \| y - f(x; \theta) \|^2$ \\
  %
  $\nll$ & \verb|\nll| & Neg-log-likelihood & $\nll(x) \doteq -\log\Pr(x)$ \\
  %
  $\mse$ & \verb|\mse| & Mean-squared-error & \\
  %
  \midrule
  %
  $\trainedto$ & \verb|\trainedto| & Model is trained to approximate some value & $\vmodel(s) \trainedto \vpolicy(s) \stackrel{\text{hope}}{\implies} \vmodel(s) \approx \vpolicy(s)$ \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [rl]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\aset$ & \verb|\aset| & Action set \\
  %
  $\bset$ & \verb|\bset| & Belief set \\
  %
  $\hset$ & \verb|\hset| & History set \\
  %
  $\oset$ & \verb|\oset| & Observation set \\
  %
  $\rset$ & \verb|\rset| & Reward set \\
  %
  $\sset$ & \verb|\sset| & State set \\
  %
  \midrule
  %
  $\nohistory$ & \verb|\nohistory| & Empty history \\
  %
  \midrule
  %
  $\policy$ & \verb|\policy| & policy \\
  %
  \midrule
  %
  $\qpolicy$ & \verb|\qpolicy| & Q policy values \\
  %
  $\qpolicy[\mu]$ & \verb|\qpolicy[\mu]| & Q policy values w/ optional argument \\
  %
  $\qmodel$ & \verb|\qmodel| & Parametric model \\
  %
  \midrule
  %
  $\vpolicy$ & \verb|\vpolicy| & V policy values \\
  %
  $\vpolicy[\mu]$ & \verb|\vpolicy[\mu]| & V policy values w/ optional argument \\
  %
  $\vmodel$ & \verb|\vmodel| & Parametric model \\
  %
  \midrule
  %
  $\apolicy$ & \verb|\apolicy| & A policy values \\
  %
  $\apolicy[\mu]$ & \verb|\apolicy[\mu]| & A policy values w/ optional argument \\
  %
  $\amodel$ & \verb|\amodel| & Parametric model \\
  %
  \midrule
  %
  $\upolicy$ & \verb|\upolicy| & U policy values \\
  %
  $\upolicy[\mu]$ & \verb|\upolicy[\mu]| & U policy values w/ optional argument \\
  %
  $\umodel$ & \verb|\umodel| & Parametric model \\
  %
  \midrule
  %
  $\bpolicy$ & \verb|\bpolicy| & Policy Bellman operator \\
  %
  $\bpolicy[\mu]$ & \verb|\bpolicy[\mu]| & Policy Bellman operator w/ optional argument \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [marl]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\joint{x}$ & \verb|\joint{x}| & Joint formatting (redefinable) \\
  %
  \midrule
  %
  $\jaset$ & \verb|\jaset| & Joint action set \\
  %
  $\joset$ & \verb|\joset| & Joint observation set \\
  %
  $\jhset$ & \verb|\jhset| & Joint history set \\
  %
  \midrule
  %
  $\ja$ & \verb|\ja| & Joint action & $\ja\in\jaset$ \\
  %
  $\jo$ & \verb|\jo| & Joint observation & $\jo\in\joset$ \\
  %
  $\jh$ & \verb|\jh| & Joint history & $\jh\in\jhset$ \\
  %
  \midrule
  %
  $\jpolicy$ & \verb|\jpolicy| & Joint policy & $\jpolicy(\jh, \ja) \doteq \prod_i \policy_i(h_i, a_i)$ \\
  %
  \midrule
  %
  $\jqpolicy$ & \verb|\jqpolicy| & Q joint-policy values \\
  %
  $\jvpolicy$ & \verb|\jvpolicy| & V joint-policy values \\
  %
  $\japolicy$ & \verb|\japolicy| & A joint-policy values \\
  %
  $\jupolicy$ & \verb|\jupolicy| & U joint-policy values \\
  %
  \midrule
  %
  $\jbpolicy$ & \verb|\jbpolicy| & Joint policy Bellman operator \\
  %
  $\jbpolicy[\joint\mu]$ & \verb|\bpolicy[\joint\mu]| & Joint policy Bellman operator w/ optional argument \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [theorem]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  & \verb|\begin{definition}|, \verb|\end{definition}| & \\
  %
  & \verb|\begin{assumption}|, \verb|\end{assumption}| & \\
  %
  & \verb|\begin{example}|, \verb|\end{example}| & \\
  %
  \midrule
  %
  & \verb|\begin{axiom}|, \verb|\end{axiom}| & \\
  %
  & \verb|\begin{conjecture}|, \verb|\end{conjecture}| & \\
  %
  & \verb|\begin{proposition}|, \verb|\end{proposition}| & \\
  %
  & \verb|\begin{lemma}|, \verb|\end{lemma}| & \\
  %
  & \verb|\begin{theorem}|, \verb|\end{theorem}| & \\
  %
  & \verb|\begin{corollary}|, \verb|\end{corollary}| & \\
  %
  & \verb|\begin{generalization}|, \verb|\end{generalization}| & \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [misc]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\D$ & \verb|\D| & Dagger superscript \\
  %
  $\iter{k}$ & \verb|\iter{k}| & Superscript indicating iteration \\
  %
  \bottomrule
  %
\end{tabular}

\subsection*{Option [utils]}

\begin{tabular}{clll}
  %
  \toprule
  %
  Symbol & Command & Description & Example \\
  %
  \midrule
  %
  $\fbox{\phantomeq}$ & \verb|\phantomeq| & The width of an $=$, for alignment purposes (bounding box shown) \\
  %
  \bottomrule
  %
\end{tabular}

\end{document}
